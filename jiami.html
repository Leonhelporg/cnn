<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="éšç§˜æ–‡æœ¬åŠ å¯†å·¥å…·ï¼Œæ”¯æŒä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—çš„é«˜åº¦éšç§˜åŠ å¯†è§£å¯†">
    <meta name="keywords" content="æ–‡æœ¬åŠ å¯†,éšç§˜åŠ å¯†,æ±‰å­—åŠ å¯†,Base64,Unicode">
    <meta name="author" content="éšç§˜æ–‡æœ¬åŠ å¯†å·¥å…·">
    <title>éšç§˜æ–‡æœ¬åŠ å¯†å·¥å…·</title>
    
    <!-- å¼•å…¥æ ·å¼æ–‡ä»¶ -->
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- é¢„åŠ è½½å…³é”®èµ„æº -->
    <link rel="preload" href="js/encryption.js" as="script">
    <link rel="preload" href="js/app.js" as="script">
    
    <!-- ç½‘ç«™å›¾æ ‡ -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ”</text></svg>">
</head>
<body>
    <div class="container">
        <!-- å¤´éƒ¨åŒºåŸŸ -->
        <header class="header">
            <h1>ğŸ” éšç§˜æ–‡æœ¬åŠ å¯†å·¥å…·</h1>
            <p>æ”¯æŒä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—çš„é«˜åº¦éšç§˜åŠ å¯†è§£å¯†</p>
        </header>

        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <main class="main-content">
            <!-- åŠŸèƒ½é€‰é¡¹å¡ -->
            <nav class="function-tabs" role="tablist">
                <button class="tab-button active" 
                        role="tab" 
                        aria-selected="true" 
                        aria-controls="encrypt-tab"
                        onclick="switchTab('encrypt')">
                    ğŸ”’ åŠ å¯†åŠŸèƒ½
                </button>
                <button class="tab-button" 
                        role="tab" 
                        aria-selected="false" 
                        aria-controls="decrypt-tab"
                        onclick="switchTab('decrypt')">
                    ğŸ”“ è§£å¯†åŠŸèƒ½
                </button>
            </nav>

            <!-- åŠ å¯†åŠŸèƒ½åŒºåŸŸ -->
            <section id="encrypt-tab" class="tab-content active" role="tabpanel" aria-labelledby="encrypt-button">
                <div class="encryption-section">
                    <div class="input-group encrypt-section">
                        <h3>åŸå§‹æ–‡æœ¬</h3>
                        <textarea id="originalText" 
                                  placeholder="è¯·è¾“å…¥è¦åŠ å¯†çš„æ–‡æœ¬ï¼Œæ”¯æŒä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—å’Œç‰¹æ®Šå­—ç¬¦..."
                                  aria-label="åŸå§‹æ–‡æœ¬è¾“å…¥æ¡†"
                                  spellcheck="false"></textarea>
                        <div class="button-group">
                            <button class="encrypt-btn" 
                                    onclick="performEncryption()"
                                    aria-label="åŠ å¯†æ–‡æœ¬"
                                    title="å¿«æ·é”®: Ctrl+Enter">
                                åŠ å¯†
                            </button>
                            <button class="clear-btn" 
                                    onclick="clearOriginal()"
                                    aria-label="æ¸…ç©ºåŸå§‹æ–‡æœ¬">
                                æ¸…ç©º
                            </button>
                        </div>
                    </div>

                    <div class="input-group result-section">
                        <h3>åŠ å¯†ç»“æœ</h3>
                        <textarea id="encryptedText" 
                                  placeholder="åŠ å¯†åçš„æ–‡æœ¬å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ..." 
                                  readonly
                                  aria-label="åŠ å¯†ç»“æœæ˜¾ç¤ºåŒºåŸŸ"
                                  spellcheck="false"></textarea>
                        <div class="button-group">
                            <button class="copy-btn" 
                                    onclick="copyToClipboard('encryptedText')"
                                    aria-label="å¤åˆ¶åŠ å¯†ç»“æœ">
                                å¤åˆ¶
                            </button>
                            <button class="clear-btn" 
                                    onclick="clearEncrypted()"
                                    aria-label="æ¸…ç©ºåŠ å¯†ç»“æœ">
                                æ¸…ç©º
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- è§£å¯†åŠŸèƒ½åŒºåŸŸ -->
            <section id="decrypt-tab" class="tab-content" role="tabpanel" aria-labelledby="decrypt-button">
                <div class="single-column">
                    <div class="input-group decrypt-section">
                        <h3>åŠ å¯†æ–‡æœ¬</h3>
                        <textarea id="encryptedInput" 
                                  placeholder="è¯·ç²˜è´´è¦è§£å¯†çš„åŠ å¯†æ–‡æœ¬..."
                                  aria-label="åŠ å¯†æ–‡æœ¬è¾“å…¥æ¡†"
                                  spellcheck="false"></textarea>
                        <div class="button-group">
                            <button class="decrypt-btn" 
                                    onclick="performDecryptionFromInput()"
                                    aria-label="è§£å¯†æ–‡æœ¬"
                                    title="å¿«æ·é”®: Ctrl+Enter">
                                è§£å¯†
                            </button>
                            <button class="clear-btn" 
                                    onclick="clearEncryptedInput()"
                                    aria-label="æ¸…ç©ºåŠ å¯†æ–‡æœ¬è¾“å…¥">
                                æ¸…ç©º
                            </button>
                        </div>
                    </div>

                    <div class="input-group result-section">
                        <h3>è§£å¯†ç»“æœ</h3>
                        <textarea id="decryptedResult" 
                                  placeholder="è§£å¯†åçš„åŸå§‹æ–‡æœ¬å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ..." 
                                  readonly
                                  aria-label="è§£å¯†ç»“æœæ˜¾ç¤ºåŒºåŸŸ"
                                  spellcheck="false"></textarea>
                        <div class="button-group">
                            <button class="copy-btn" 
                                    onclick="copyToClipboard('decryptedResult')"
                                    aria-label="å¤åˆ¶è§£å¯†ç»“æœ">
                                å¤åˆ¶
                            </button>
                            <button class="clear-btn" 
                                    onclick="clearDecryptedResult()"
                                    aria-label="æ¸…ç©ºè§£å¯†ç»“æœ">
                                æ¸…ç©º
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- åŠ è½½åŠ¨ç”» -->
            <div class="loading" id="loading" aria-live="polite">
                <div class="spinner" aria-hidden="true"></div>
                <p>å¤„ç†ä¸­...</p>
            </div>

            <!-- çŠ¶æ€æ¶ˆæ¯ -->
            <div class="status" id="status" role="alert" aria-live="assertive"></div>

            <!-- ç»Ÿè®¡ä¿¡æ¯ -->
            <section class="stats" id="stats" style="display: none;" aria-label="ç»Ÿè®¡ä¿¡æ¯">
                <div class="stat-item">
                    <div class="number" id="originalLength">0</div>
                    <div class="label">åŸå§‹é•¿åº¦</div>
                </div>
                <div class="stat-item">
                    <div class="number" id="encryptedLength">0</div>
                    <div class="label">åŠ å¯†é•¿åº¦</div>
                </div>
                <div class="stat-item">
                    <div class="number" id="compressionRatio">0%</div>
                    <div class="label">é•¿åº¦æ¯”ç‡</div>
                </div>
            </section>

            <!-- ä¿¡æ¯è¯´æ˜åŒºåŸŸ -->
            <section class="info-section" aria-label="åŠ å¯†ç‰¹ç‚¹è¯´æ˜">
                <h3>ğŸ›¡ï¸ åŠ å¯†ç‰¹ç‚¹</h3>
                <ul>
                    <li>æ”¯æŒä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—å’Œç‰¹æ®Šå­—ç¬¦</li>
                    <li>åŠ å¯†ç»“æœçœ‹èµ·æ¥åƒæ™®é€šæ±‰å­—ï¼Œå…·æœ‰æé«˜çš„éšè”½æ€§</li>
                    <li>ä½¿ç”¨Base64ç¼–ç ç»“åˆUnicodeå­—ç¬¦æ˜ å°„</li>
                    <li>æ’å…¥é›¶å®½å­—ç¬¦å¢åŠ ç ´è§£éš¾åº¦</li>
                    <li>æ¯ä¸ªå­—ç¬¦æ˜ å°„åˆ°å¤šä¸ªä¼ªæ±‰å­—ï¼Œæé«˜å®‰å…¨æ€§</li>
                    <li>å®Œå…¨å¯é€†ï¼Œè§£å¯†åä¸åŸæ–‡å®Œå…¨ä¸€è‡´</li>
                </ul>
            </section>
        </main>
    </div>

    <!-- å¼•å…¥JavaScriptæ–‡ä»¶ -->
    <script src="js/encryption.js"></script>
    <script src="js/app.js"></script>
    
    <!-- é¡µé¢æ€§èƒ½ç›‘æ§ -->
    <script>
        // ç®€å•çš„æ€§èƒ½ç›‘æ§
        window.addEventListener('load', function() {
            if (window.performance && window.performance.timing) {
                const loadTime = window.performance.timing.loadEventEnd - window.performance.timing.navigationStart;
                console.log(`é¡µé¢åŠ è½½æ—¶é—´: ${loadTime}ms`);
            }
        });
        
        // é”™è¯¯ç›‘æ§
        window.addEventListener('error', function(e) {
            console.error('é¡µé¢é”™è¯¯:', e.error);
        });
        
        // æœªå¤„ç†çš„Promiseæ‹’ç»ç›‘æ§
        window.addEventListener('unhandledrejection', function(e) {
            console.error('æœªå¤„ç†çš„Promiseæ‹’ç»:', e.reason);
        });
    </script>
</body>
</html>

